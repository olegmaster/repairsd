



<div id="our-statistic">
    <div class="our-statistic">
        <div class="statistic">
            {% for booking in __SELF__.getInfo() %}
            <div class="type-stat">
                <div class="circle">
                    <svg version="1.1" id="circle" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 395.1 382.3" style="enable-background:new 0 0 395.1 382.3;" xml:space="preserve">
                                    <style type="text/css">
                                        #circle .st1{fill:url(#SVGID1);}
                                        #circle .st2{fill:url(#SVGID2);}
                                        #circle .st3{fill:url(#SVGID3);}
                                        #circle .st4{fill:url(#SVGID4);}
                                        #circle .st5{fill:url(#SVGID5);}
                                        #circle .st6{fill:url(#SVGID6);}
                                        #circle .st7{fill:url(#SVGID7);}
                                        #circle .st8{fill:url(#SVGID8);}
                                        #circle .st9{fill:url(#SVGID9);}
                                        #circle .st10{fill:url(#SVGID10);}
                                        #circle .st11{fill:url(#SVGID11);}
                                        #circle .st12{fill:url(#SVGID12);}
                                    </style>
                                    <g id="Statistics">
                                        <linearGradient id="SVGID1" gradientUnits="userSpaceOnUse" x1="178.699" y1="364.8981" x2="203.699" y2="364.8981">
                                            <stop  offset="0" style="stop-color:#0197D6"/>
                                            <stop  offset="1" style="stop-color:#9BD0FF"/>
                                        </linearGradient>
                                        <circle class="st10" cx="191.2" cy="364.9" r="12.5"/>
                                        <linearGradient id="SVGID2" gradientUnits="userSpaceOnUse" x1="93.0974" y1="341.9617" x2="118.1016" y2="341.9617">
                                            <stop  offset="0" style="stop-color:#0197D6"/>
                                            <stop  offset="1" style="stop-color:#9BD0FF"/>
                                        </linearGradient>
                                        <circle class="st11" cx="105.6" cy="342" r="12.5"/>
                                        <linearGradient id="SVGID3" gradientUnits="userSpaceOnUse" x1="25.4334" y1="279.2986" x2="60.4392" y2="279.2986">
                                            <stop  offset="0" style="stop-color:#0197D6"/>
                                            <stop  offset="1" style="stop-color:#9BD0FF"/>
                                        </linearGradient>
                                        <circle class="st12" cx="42.9" cy="279.3" r="17.5"/>
                                        <linearGradient id="SVGID4" gradientUnits="userSpaceOnUse" x1="0" y1="193.699" x2="40" y2="193.699">
                                            <stop  offset="0" style="stop-color:#0197D6"/>
                                            <stop  offset="1" style="stop-color:#9BD0FF"/>
                                        </linearGradient>
                                        <circle class="st13" cx="20" cy="193.7" r="20"/>
                                        <linearGradient id="SVGID5" gradientUnits="userSpaceOnUse" x1="22.933" y1="108.0995" x2="62.9397" y2="108.0995">
                                            <stop  offset="0" style="stop-color:#0197D6"/>
                                            <stop  offset="1" style="stop-color:#9BD0FF"/>
                                        </linearGradient>
                                        <circle class="st14" cx="42.9" cy="108.1" r="20"/>
                                        <linearGradient id="SVGID6" gradientUnits="userSpaceOnUse" x1="83.0958" y1="45.4363" x2="128.1033" y2="45.4363">
                                            <stop  offset="0" style="stop-color:#0197D6"/>
                                            <stop  offset="1" style="stop-color:#9BD0FF"/>
                                        </linearGradient>
                                        <circle class="st15" cx="105.6" cy="45.4" r="22.5"/>
                                        <linearGradient id="SVGID7" gradientUnits="userSpaceOnUse" x1="168.699" y1="22.5" x2="213.699" y2="22.5">
                                            <stop  offset="0" style="stop-color:#0197D6"/>
                                            <stop  offset="1" style="stop-color:#9BD0FF"/>
                                        </linearGradient>
                                        <circle class="st16" cx="191.2" cy="22.5" r="22.5"/>
                                        <linearGradient id="SVGID8" gradientUnits="userSpaceOnUse" x1="249.2939" y1="45.4363" x2="304.3031" y2="45.4363">
                                            <stop  offset="0" style="stop-color:#0197D6"/>
                                            <stop  offset="1" style="stop-color:#9BD0FF"/>
                                        </linearGradient>
                                        <circle class="st17" cx="276.8" cy="45.4" r="27.5"/>
                                        <linearGradient id="SVGID9" gradientUnits="userSpaceOnUse" x1="309.4567" y1="108.0995" x2="369.4667" y2="108.0995">
                                            <stop  offset="0" style="stop-color:#0197D6"/>
                                            <stop  offset="1" style="stop-color:#9BD0FF"/>
                                        </linearGradient>
                                        <circle class="st18" cx="339.5" cy="108.1" r="30"/>
                                        <linearGradient id="SVGID10" gradientUnits="userSpaceOnUse" x1="329.699" y1="193.699" x2="395.0971" y2="193.699">
                                            <stop  offset="0" style="stop-color:#0197D6"/>
                                            <stop  offset="1" style="stop-color:#9BD0FF"/>
                                        </linearGradient>
                                        <circle class="st19" cx="362.4" cy="193.7" r="32.7"/>
                                        <linearGradient id="SVGID11" gradientUnits="userSpaceOnUse" x1="306.0506" y1="275.5971" x2="378.0506" y2="275.5971">
                                            <stop  offset="0" style="stop-color:#0197D6"/>
                                            <stop  offset="1" style="stop-color:#9BD0FF"/>
                                        </linearGradient>
                                        <circle class="st20" cx="342.1" cy="275.6" r="36"/>
                                        <linearGradient id="SVGID12" gradientUnits="userSpaceOnUse" x1="236.1923" y1="341.7894" x2="317.2058" y2="341.7894">
                                            <stop  offset="0" style="stop-color:#0197D6"/>
                                            <stop  offset="1" style="stop-color:#9BD0FF"/>
                                        </linearGradient>
                                        <circle class="st21" cx="276.7" cy="341.8" r="40.5"/>
                                    </g>
                                </svg>
                                <svg version="1.1" id="icon-type" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="-32 141 477.6 512" style="enable-background:new -32 141 477.6 512;" xml:space="preserve">
                                    <style type="text/css">
                                        .st0 {
                                            fill: #9DACB9;
                                        }
                                    </style>
                                    <path class="st0" d="M198.5,618.9H10.7c-23.6,0-42.7-19.1-42.7-42.7V226.3c0-23.6,19.1-42.7,42.7-42.7h187.7c10,0,19.6,3.5,27.3,9.9 c3.4,2.9,4,7.8,1.5,11.4c-1.4,2-2.6,4-3.9,6c-7.4,12.2-12.4,25.7-14.8,39.8c-1,6-1.6,12.1-1.5,18.3c0,20.5,5.7,40.7,16.5,58.1 c1,1.7,2.1,3.4,3.4,5.1c3.5,5.1,7.5,9.9,11.9,14.3c1.5,1.6,2.4,3.7,2.4,5.9v223.7C241.1,599.8,222,618.9,198.5,618.9z M10.7,200.7 c-14.1,0-25.6,11.5-25.6,25.6v349.9c0,14.1,11.5,25.6,25.6,25.6h187.7c14.1,0,25.6-11.5,25.6-25.6V356c-4-4.3-7.7-9-11.1-13.8 c-1.4-1.8-2.6-3.8-3.9-5.9c-12.5-20.2-19.1-43.5-19.1-67.2c0-7,0.5-14.1,1.7-21c2.8-16,8.6-31.4,17.1-45.2c-3.2-1.4-6.7-2.1-10.2-2 H10.7z"/>
                                    <path class="st0" d="M36.3,653h-8.5c-14.1,0-25.6-11.5-25.6-25.6v-17.1c0-4.7,3.8-8.5,8.5-8.5h42.7c4.7,0,8.5,3.8,8.5,8.5v17.1	C61.9,641.5,50.5,653,36.3,653z M19.3,618.9v8.5c0,4.7,3.8,8.5,8.5,8.5h8.5c4.7,0,8.5-3.8,8.5-8.5v-8.5H19.3z"/>
                                    <path class="st0" d="M181.4,653h-8.5c-14.1,0-25.6-11.5-25.6-25.6v-17.1c0-4.7,3.8-8.5,8.5-8.5h42.7c4.7,0,8.5,3.8,8.5,8.5v17.1 C207,641.5,195.5,653,181.4,653z M164.3,618.9v8.5c0,4.7,3.8,8.5,8.5,8.5h8.5c4.7,0,8.5-3.8,8.5-8.5v-8.5H164.3z"/>
                                    <path class="st0" d="M220,345.8H-23.4c-4.7,0-8.5-3.8-8.5-8.5c0-4.7,3.8-8.5,8.5-8.5H220c4.7,0,8.5,3.8,8.5,8.5 C228.5,342,224.7,345.8,220,345.8z"/>
                                    <path class="st0" d="M10.7,431.1c-4.7,0-8.5-3.8-8.5-8.5v-51.2c0-4.7,3.8-8.5,8.5-8.5s8.5,3.8,8.5,8.5v51.2 C19.3,427.3,15.4,431.1,10.7,431.1z"/>
                                    <path class="st0" d="M10.7,311.7c-4.7,0-8.5-3.8-8.5-8.5v-51.2c0-4.7,3.8-8.5,8.5-8.5s8.5,3.8,8.5,8.5v51.2 C19.3,307.8,15.4,311.7,10.7,311.7z"/>
                                    <path class="st0" d="M317.9,397c-28.7,0.1-56.6-9.6-79.1-27.4c-4.4-3.4-8.5-7.1-12.4-11.1c-5-5.1-9.5-10.6-13.6-16.4 c-1.4-1.8-2.6-3.8-3.9-5.9c-12.5-20.2-19.1-43.5-19-67.2c0-7,0.5-14.1,1.7-21c2.7-16.3,8.5-31.9,17.1-46c1.5-2.4,3-4.6,4.5-6.8 c40.9-57.7,120.8-71.3,178.4-30.5s71.3,120.8,30.5,178.4c-7.1,10-15.5,18.9-25.1,26.4C374.5,387.4,346.6,397.1,317.9,397z M317.9,158.1c-36.1,0-69.9,17.6-90.6,47c-1.4,2-2.6,4-3.9,6c-7.4,12.2-12.4,25.7-14.8,39.8c-1.1,6-1.6,12.1-1.6,18.2 c0,20.5,5.7,40.7,16.5,58.1c1,1.7,2.1,3.4,3.4,5.1c3.5,5.1,7.5,9.9,11.9,14.3c3.4,3.4,7.1,6.6,10.9,9.6	c48.3,37.7,118,29.1,155.7-19.2c15.2-19.4,23.4-43.3,23.5-68C428.9,207.7,379.2,158.1,317.9,158.1z"/>
                                    <path class="st0" d="M317.9,362.9c-4.7,0-8.5-3.8-8.5-8.5V183.7c0-4.7,3.8-8.5,8.5-8.5s8.5,3.8,8.5,8.5v170.7 C326.5,359,322.6,362.9,317.9,362.9z"/>
                                    <path class="st0" d="M317.9,217.8c-1.7,0-3.3-0.5-4.7-1.5l-25.6-17.1c-3.8-2.8-4.5-8.2-1.7-11.9c2.6-3.5,7.4-4.4,11.2-2.2l25.6,17.1 c3.9,2.6,5,7.9,2.3,11.8C323.4,216.4,320.8,217.8,317.9,217.8z"/>
                                    <path class="st0" d="M317.9,217.8c-4.7,0-8.5-3.8-8.6-8.5c0-2.8,1.4-5.5,3.8-7.1l25.6-17.1c4.1-2.4,9.3-1.1,11.7,3	c2.2,3.7,1.3,8.5-2.2,11.2l-25.6,17.1C321.2,217.3,319.6,217.8,317.9,217.8z"/>
                                    <path class="st0" d="M292.3,354.3c-4.7,0-8.5-3.8-8.6-8.5c0-2.8,1.4-5.5,3.8-7.1l25.6-17.1c3.8-2.8,9.1-2.1,11.9,1.7 c2.8,3.8,2.1,9.1-1.7,11.9c-0.3,0.2-0.5,0.4-0.8,0.5L297,352.9C295.6,353.8,294,354.3,292.3,354.3z"/>
                                    <path class="st0" d="M343.5,354.3c-1.7,0-3.3-0.5-4.7-1.5l-25.6-17.1c-3.8-2.8-4.5-8.2-1.7-11.9c2.6-3.5,7.4-4.4,11.2-2.2l25.6,17.1 c3.9,2.6,5,7.9,2.3,11.8C349,352.9,346.4,354.3,343.5,354.3z"/>
                                    <path class="st0" d="M403.3,277.5H232.6c-4.7,0-8.5-3.8-8.5-8.5s3.8-8.5,8.5-8.5h170.7c4.7,0,8.5,3.8,8.5,8.5S408,277.5,403.3,277.5 z"/>
                                    <path class="st0" d="M241.1,303.1c-4.7,0-8.5-3.9-8.5-8.6c0-1.7,0.5-3.3,1.4-4.6l17.1-25.6c2.8-3.8,8.2-4.5,11.9-1.7 c3.5,2.6,4.4,7.4,2.2,11.2l-17.1,25.6C246.6,301.7,244,303.1,241.1,303.1z"/>
                                    <path class="st0" d="M258.2,277.5c-2.9,0-5.5-1.5-7.1-3.8l-17.1-25.6c-2.4-4.1-1.1-9.3,3-11.7c3.7-2.2,8.5-1.3,11.2,2.2l17.1,25.6 c2.6,3.9,1.6,9.2-2.3,11.8C261.6,277,259.9,277.5,258.2,277.5z"/>
                                    <path class="st0" d="M394.7,303.1c-2.9,0-5.5-1.5-7.1-3.8l-17.1-25.6c-2.4-4.1-1.1-9.3,3-11.7c3.7-2.2,8.5-1.3,11.2,2.2l17.1,25.6 c2.6,3.9,1.6,9.2-2.3,11.8C398.1,302.6,396.4,303.1,394.7,303.1z"/>
                                    <path class="st0" d="M377.7,277.5c-4.7,0-8.5-3.9-8.5-8.6c0-1.7,0.5-3.3,1.4-4.6l17.1-25.6c2.8-3.8,8.2-4.5,11.9-1.7 c3.5,2.6,4.4,7.4,2.2,11.2l-17.1,25.6C383.2,276.1,380.5,277.5,377.7,277.5z"/>
                                    <path class="st0" d="M360.6,320.2c-2.3,0-4.4-0.9-6.1-2.5l-85.3-85.3c-3.1-3.6-2.6-9,0.9-12c3.2-2.7,7.9-2.7,11.1,0l85.3,85.3 c3.3,3.4,3.2,8.8-0.1,12.1C364.9,319.3,362.8,320.2,360.6,320.2z"/>
                                    <path class="st0" d="M275.3,320.2c-4.7,0-8.6-3.8-8.6-8.5c0-2.3,0.9-4.5,2.5-6.1l85.3-85.3c3.6-3.1,9-2.6,12,0.9 c2.7,3.2,2.7,7.9,0,11.1l-85.3,85.3C279.7,319.2,277.5,320.2,275.3,320.2z"/>
                                </svg>
                </div>
                <div class="name-stat">
                    <p>
                        {{ booking['name'] }}
                        <span>{{booking['percent']}}%</span>
                    </p>
                </div>
            </div>
            {% endfor %}

        </div>
        <div class="statistic-info">
            <h2>Our Statistics</h2>
            <p>
                In this section you can see the statistics of the household appliances repair of a particular category
                of equipment. There are numbers of completed repairs in percentage terms.
            <p>
        </div>
    </div>
</div>

<script>
    let percentContent = undefined;
    let percent = undefined;
    let starsAmount = [];
    let statBlock = undefined;
    $.each($(".name-stat p span"), function () {
        percentContent = $(this).html();
        percent = percentContent.substr(0, 2);
        starsAmount = Math.abs((percent / 8.3)).toFixed(0);
        console.log(percentContent);
        console.log(starsAmount);
        statBlock = $(this).closest('div[class=type-stat]')
        let num = undefined;
        let numFill = undefined;
        let circle = undefined;
        if(isNaN(starsAmount)){
            circle = statBlock.find('div[class=circle]').find('g[id=Statistics]').find("circle:nth-of-type(" + 1 + ")")
            numFill = "url(#SVGID"+1+")";
            $(circle).css({
                'fill': numFill,
                'stroke': 'transparent !important'
            })
        }
        for (let i = 1; i < starsAmount; i++) {
            num = "#circle #Statistics circle:nth-of-type(" + i + ")";
            circle = statBlock.find('div[class=circle]').find('g[id=Statistics]').find("circle:nth-of-type(" + i + ")")
            numFill = "url(#SVGID"+i+")";

                console.log("красить");
                $(circle).css({
                    'fill': numFill,
                    'stroke': 'transparent !important'
                })

        }
    })
</script>
